
破棄された入力セクション

 .debug_str     0x0000000000000000      0x230 core/kernel.o
 .debug_abbrev  0x0000000000000000       0xb7 core/kernel.o
 .debug_info    0x0000000000000000      0x3dc core/kernel.o
 .debug_macinfo
                0x0000000000000000        0x1 core/kernel.o
 .eh_frame      0x0000000000000000       0x58 core/kernel.o
 .debug_line    0x0000000000000000      0x27a core/kernel.o
 .llvm_addrsig  0x0000000000000000       0x19 core/kernel.o
 .debug_str     0x0000000000000000      0x1c2 graphics/graphics.o
 .debug_abbrev  0x0000000000000000       0xb7 graphics/graphics.o
 .debug_info    0x0000000000000000      0x436 graphics/graphics.o
 .debug_macinfo
                0x0000000000000000        0x1 graphics/graphics.o
 .eh_frame      0x0000000000000000       0xb8 graphics/graphics.o
 .debug_line    0x0000000000000000      0x526 graphics/graphics.o
 .llvm_addrsig  0x0000000000000000        0x5 graphics/graphics.o
 .debug_str     0x0000000000000000      0x290 util/util.o
 .debug_loc     0x0000000000000000       0xab util/util.o
 .debug_abbrev  0x0000000000000000      0x147 util/util.o
 .debug_info    0x0000000000000000      0x6da util/util.o
 .debug_macinfo
                0x0000000000000000        0x1 util/util.o
 .eh_frame      0x0000000000000000      0x2b8 util/util.o
 .debug_line    0x0000000000000000      0x6de util/util.o
 .llvm_addrsig  0x0000000000000000        0x6 util/util.o
 .debug_str     0x0000000000000000       0x9d init/bss.o
 .debug_abbrev  0x0000000000000000       0x50 init/bss.o
 .debug_info    0x0000000000000000       0x7a init/bss.o
 .debug_macinfo
                0x0000000000000000        0x1 init/bss.o
 .eh_frame      0x0000000000000000       0x38 init/bss.o
 .debug_line    0x0000000000000000       0xa2 init/bss.o
 .llvm_addrsig  0x0000000000000000        0x2 init/bss.o
 .debug_str     0x0000000000000000       0xf5 mm/segmentation.o
 .debug_abbrev  0x0000000000000000       0x61 mm/segmentation.o
 .debug_info    0x0000000000000000       0xb7 mm/segmentation.o
 .debug_macinfo
                0x0000000000000000        0x1 mm/segmentation.o
 .eh_frame      0x0000000000000000       0x38 mm/segmentation.o
 .debug_line    0x0000000000000000       0xa9 mm/segmentation.o
 .llvm_addrsig  0x0000000000000000        0x0 mm/segmentation.o
 .debug_str     0x0000000000000000       0xc9 mm/paging.o
 .debug_abbrev  0x0000000000000000       0x66 mm/paging.o
 .debug_info    0x0000000000000000       0xa9 mm/paging.o
 .debug_macinfo
                0x0000000000000000        0x1 mm/paging.o
 .eh_frame      0x0000000000000000       0x38 mm/paging.o
 .debug_line    0x0000000000000000      0x110 mm/paging.o
 .llvm_addrsig  0x0000000000000000        0x0 mm/paging.o
 .debug_str     0x0000000000000000      0x109 interrupt/interrupt.o
 .debug_abbrev  0x0000000000000000       0x7d interrupt/interrupt.o
 .debug_info    0x0000000000000000       0xf2 interrupt/interrupt.o
 .debug_macinfo
                0x0000000000000000        0x1 interrupt/interrupt.o
 .eh_frame      0x0000000000000000       0x38 interrupt/interrupt.o
 .debug_line    0x0000000000000000       0xd5 interrupt/interrupt.o
 .llvm_addrsig  0x0000000000000000        0x0 interrupt/interrupt.o
 .debug_str     0x0000000000000000       0xfb interrupt/fault_handler.o
 .debug_abbrev  0x0000000000000000       0x88 interrupt/fault_handler.o
 .debug_info    0x0000000000000000       0xef interrupt/fault_handler.o
 .debug_macinfo
                0x0000000000000000        0x1 interrupt/fault_handler.o
 .eh_frame      0x0000000000000000       0xa8 interrupt/fault_handler.o
 .debug_line    0x0000000000000000      0x12a interrupt/fault_handler.o
 .llvm_addrsig  0x0000000000000000        0x8 interrupt/fault_handler.o
 .debug_str     0x0000000000000000       0xfa interrupt/user_defined_handler.o
 .debug_abbrev  0x0000000000000000       0x84 interrupt/user_defined_handler.o
 .debug_info    0x0000000000000000       0xe5 interrupt/user_defined_handler.o
 .debug_macinfo
                0x0000000000000000        0x1 interrupt/user_defined_handler.o
 .eh_frame      0x0000000000000000       0x38 interrupt/user_defined_handler.o
 .debug_line    0x0000000000000000       0xbb interrupt/user_defined_handler.o
 .llvm_addrsig  0x0000000000000000        0x3 interrupt/user_defined_handler.o
 .debug_str     0x0000000000000000      0x1c3 device/keyinput.o
 .debug_abbrev  0x0000000000000000      0x115 device/keyinput.o
 .debug_info    0x0000000000000000      0x272 device/keyinput.o
 .debug_macinfo
                0x0000000000000000        0x1 device/keyinput.o
 .eh_frame      0x0000000000000000      0x178 device/keyinput.o
 .debug_line    0x0000000000000000      0x4c8 device/keyinput.o
 .llvm_addrsig  0x0000000000000000        0xa device/keyinput.o
 .debug_str     0x0000000000000000      0x1ad app/console.o
 .debug_abbrev  0x0000000000000000       0xb7 app/console.o
 .debug_info    0x0000000000000000      0x2e5 app/console.o
 .debug_macinfo
                0x0000000000000000        0x1 app/console.o
 .eh_frame      0x0000000000000000       0xd8 app/console.o
 .debug_line    0x0000000000000000      0x376 app/console.o
 .llvm_addrsig  0x0000000000000000       0x1f app/console.o
 .debug_str     0x0000000000000000      0x2a6 acpi/acpi.o
 .debug_abbrev  0x0000000000000000       0xee acpi/acpi.o
 .debug_info    0x0000000000000000      0x3c4 acpi/acpi.o
 .debug_macinfo
                0x0000000000000000        0x1 acpi/acpi.o
 .eh_frame      0x0000000000000000       0x98 acpi/acpi.o
 .debug_line    0x0000000000000000      0x246 acpi/acpi.o
 .llvm_addrsig  0x0000000000000000       0x11 acpi/acpi.o
 .debug_str     0x0000000000000000       0x82 command/echo.o
 .debug_abbrev  0x0000000000000000       0x4a command/echo.o
 .debug_info    0x0000000000000000       0x69 command/echo.o
 .debug_macinfo
                0x0000000000000000        0x1 command/echo.o
 .eh_frame      0x0000000000000000       0x38 command/echo.o
 .debug_line    0x0000000000000000       0x50 command/echo.o
 .llvm_addrsig  0x0000000000000000        0x1 command/echo.o
 .debug_str     0x0000000000000000       0x9f command/uptime.o
 .debug_abbrev  0x0000000000000000       0x74 command/uptime.o
 .debug_info    0x0000000000000000       0x7c command/uptime.o
 .debug_macinfo
                0x0000000000000000        0x1 command/uptime.o
 .eh_frame      0x0000000000000000       0x38 command/uptime.o
 .debug_line    0x0000000000000000       0x5c command/uptime.o
 .llvm_addrsig  0x0000000000000000        0x3 command/uptime.o
 .debug_str     0x0000000000000000       0xb3 command/sleep.o
 .debug_abbrev  0x0000000000000000       0x5f command/sleep.o
 .debug_info    0x0000000000000000       0x88 command/sleep.o
 .debug_macinfo
                0x0000000000000000        0x1 command/sleep.o
 .eh_frame      0x0000000000000000       0x38 command/sleep.o
 .debug_line    0x0000000000000000       0x9b command/sleep.o
 .llvm_addrsig  0x0000000000000000        0x1 command/sleep.o

メモリ設定

名前           原点             長さ             属性
HEAD             0x0000000000000000 0x00000000000e1000 xrw
BODY             0x0000000000110000 0x0000000000100000 xrw
*default*        0x0000000000000000 0xffffffffffffffff

リンカスクリプトおよびメモリマップ


.body           0x0000000000110000     0x54e0
 *(.text)
 .text          0x0000000000110000      0x560 core/kernel.o
                0x0000000000110000                start_kernel
                0x0000000000110120                main_routine
 .text          0x0000000000110560      0x879 graphics/graphics.o
                0x0000000000110560                _draw_dot
                0x00000000001105e0                draw_square
                0x00000000001106c0                putchar
                0x00000000001109b0                putstr
                0x0000000000110a30                putnum
 *fill*         0x0000000000110dd9        0x7 
 .text          0x0000000000110de0      0xd56 util/util.o
                0x0000000000110de0                memset
                0x0000000000110e40                pow
                0x0000000000110ea0                gen_buf_u64
                0x0000000000110f00                buf_u64_isempty
                0x0000000000110f40                buf_u64_isfull
                0x0000000000110f90                enqueue_u64
                0x0000000000111010                dequeue_u64
                0x0000000000111090                flush_buf_u64
                0x00000000001110f0                gen_buf_char
                0x0000000000111150                buf_char_isempty
                0x0000000000111180                buf_char_isfull
                0x00000000001111d0                enqueue_char
                0x0000000000111240                dequeue_char
                0x00000000001112c0                flush_buf_char
                0x0000000000111310                flush_array_char
                0x0000000000111360                comptext
                0x0000000000111440                strncmp
                0x00000000001114e0                sprintf
                0x0000000000111560                u64_to_hexstr
                0x00000000001118f0                demchar_to_u64
                0x0000000000111a20                demstr_to_u64
 .text          0x0000000000111b36       0x28 util/util_asm.o
                0x0000000000111b36                io_inb
                0x0000000000111b3b                io_in32
                0x0000000000111b40                io_outb
                0x0000000000111b48                io_rdmsr
                0x0000000000111b55                io_wrmsr
 *fill*         0x0000000000111b5e        0x2 
 .text          0x0000000000111b60       0x60 init/bss.o
                0x0000000000111b60                init_bss
 .text          0x0000000000111bc0       0x6e mm/segmentation.o
                0x0000000000111bc0                make_segment_descriptor
 .text          0x0000000000111c2e       0x18 mm/load_gdt.o
                0x0000000000111c2e                load_gdt
 .text          0x0000000000111c46       0x37 mm/set_segment_register.o
                0x0000000000111c46                set_segment_register
                0x0000000000111c74                main_label
 .text          0x0000000000111c7d        0xb mm/load_pgtable.o
                0x0000000000111c7d                load_pgtable
 *fill*         0x0000000000111c88        0x8 
 .text          0x0000000000111c90      0x11c mm/paging.o
                0x0000000000111c90                create_pgtable
 .text          0x0000000000111dac       0x17 debug/debug.o
                0x0000000000111dac                insert_to_reg
                0x0000000000111db0                get_cr3
                0x0000000000111db4                get_cr4
                0x0000000000111db8                get_efer
                0x0000000000111dc0                generate_gp
 .text          0x0000000000111dc3       0x18 interrupt/load_idt.o
                0x0000000000111dc3                load_idt
 *fill*         0x0000000000111ddb        0x5 
 .text          0x0000000000111de0       0x5e interrupt/interrupt.o
                0x0000000000111de0                make_gate_descriptor
 *fill*         0x0000000000111e3e        0x2 
 .text          0x0000000000111e40      0x25b interrupt/fault_handler.o
                0x0000000000111e40                gp_handler
                0x0000000000111e80                gp_handler_deluxe
                0x0000000000112060                pf_handler
 *fill*         0x000000000011209b        0x5 
 .text          0x00000000001120a0       0x37 interrupt/user_defined_handler.o
                0x00000000001120a0                timer_handler
 .text          0x00000000001120d7       0xa2 interrupt/handler_caller.o
                0x00000000001120d7                general_protection
                0x000000000011210d                page_fault
                0x0000000000112142                timer_interrupt
 .text          0x0000000000112179        0x6 device/keyboard.o
                0x0000000000112179                read_kbd_signal
                0x000000000011217c                read_kbd_status
 *fill*         0x000000000011217f        0x1 
 .text          0x0000000000112180      0xe89 device/keyinput.o
                0x0000000000112180                init_serial
                0x00000000001121f0                serial_received
                0x0000000000112210                read_serial
                0x0000000000112240                serial_thr_empty
                0x0000000000112260                write_serial
                0x00000000001122a0                puts_serial
                0x0000000000112300                ps2_received
                0x0000000000112340                read_ps2
                0x0000000000112380                map_scan_to_ascii_set1
                0x0000000000112800                map_scan_to_ascii_set2
                0x0000000000112c80                putnum_serial
 *fill*         0x0000000000113009        0x7 
 .text          0x0000000000113010      0x76c app/console.o
                0x0000000000113010                readline_serial
                0x0000000000113180                readline_ps2
                0x00000000001132e0                parse_line
                0x0000000000113400                do_command
                0x00000000001135e0                writelines
                0x0000000000113690                console
 *fill*         0x000000000011377c        0x4 
 .text          0x0000000000113780      0x447 acpi/acpi.o
                0x0000000000113780                get_xsdt_other_table
                0x0000000000113850                wait_milliseconds
                0x0000000000113950                measure_freq
                0x00000000001139d0                init_local_APIC
 *fill*         0x0000000000113bc7        0x9 
 .text          0x0000000000113bd0       0x23 command/echo.o
                0x0000000000113bd0                echo
 *fill*         0x0000000000113bf3        0xd 
 .text          0x0000000000113c00       0x33 command/uptime.o
                0x0000000000113c00                uptime
 *fill*         0x0000000000113c33        0xd 
 .text          0x0000000000113c40       0x42 command/sleep.o
                0x0000000000113c40                sleep
 *(.rodata*)
 .rodata.str1.1
                0x0000000000113c82       0xeb core/kernel.o
 .rodata.str1.1
                0x0000000000113d6d       0x3b interrupt/fault_handler.o
 .rodata        0x0000000000113da8      0xf80 device/keyinput.o
 .rodata.str1.1
                0x0000000000114d28       0x45 app/console.o
 *fill*         0x0000000000114d6d        0x3 
 .rodata        0x0000000000114d70        0x8 acpi/acpi.o
                0x0000000000114d70                PMTimerFreq
                0x0000000000114d74                Max_Count
 .rodata.str1.1
                0x0000000000114d78       0xfa acpi/acpi.o
 *(.data*)
 .data          0x0000000000114e72       0x10 core/kernel.o
                0x0000000000114e72                white
                0x0000000000114e76                red
                0x0000000000114e7a                green
                0x0000000000114e7e                blue
 *fill*         0x0000000000114e82        0xe 
 .data          0x0000000000114e90      0x5f0 graphics/graphics.o
                0x0000000000114e90                fonts
 .data          0x0000000000115480        0x0 util/util_asm.o
 .data          0x0000000000115480        0x0 mm/load_gdt.o
 .data          0x0000000000115480        0x0 mm/set_segment_register.o
 .data          0x0000000000115480        0x0 mm/load_pgtable.o
 .data          0x0000000000115480        0x0 debug/debug.o
 .data          0x0000000000115480        0x0 interrupt/load_idt.o
 .data          0x0000000000115480        0x8 interrupt/user_defined_handler.o
                0x0000000000115480                end_of_interrupt
 .data          0x0000000000115488        0x0 interrupt/handler_caller.o
 .data          0x0000000000115488        0x0 device/keyboard.o
 .data          0x0000000000115488       0x20 acpi/acpi.o
                0x0000000000115488                LVT_Timer
                0x0000000000115490                Initial_Count
                0x0000000000115498                Current_Count
                0x00000000001154a0                Divide_Configuration
                0x00000000001154a8                __bss_start = .
 *(.bss)
 .bss           0x00000000001154a8       0x18 core/kernel.o
                0x00000000001154a8                black
                0x00000000001154b0                vinfo_global
                0x00000000001154b8                rsdp
 .bss           0x00000000001154c0        0x0 util/util_asm.o
 .bss           0x00000000001154c0        0x0 mm/load_gdt.o
 .bss           0x00000000001154c0        0x0 mm/set_segment_register.o
 .bss           0x00000000001154c0        0x0 mm/load_pgtable.o
 .bss           0x00000000001154c0        0x0 debug/debug.o
 .bss           0x00000000001154c0        0x0 interrupt/load_idt.o
 .bss           0x00000000001154c0        0x8 interrupt/user_defined_handler.o
                0x00000000001154c0                milli_clock
 .bss           0x00000000001154c8        0x0 interrupt/handler_caller.o
 .bss           0x00000000001154c8        0x0 device/keyboard.o
 .bss           0x00000000001154c8        0xe app/console.o
                0x00000000001154c8                shift
                0x00000000001154cc                text_x
                0x00000000001154d0                text_y
                0x00000000001154d4                keycode
                0x00000000001154d5                oldkeycode
 *fill*         0x00000000001154d6        0x2 
 .bss           0x00000000001154d8        0x8 acpi/acpi.o
                0x00000000001154d8                lapic_freq
                0x00000000001154e0                __bss_end = .

/DISCARD/
 *(.eh_frame)
LOAD core/kernel.o
LOAD graphics/graphics.o
LOAD util/util.o
LOAD util/util_asm.o
LOAD init/bss.o
LOAD mm/segmentation.o
LOAD mm/load_gdt.o
LOAD mm/set_segment_register.o
LOAD mm/load_pgtable.o
LOAD mm/paging.o
LOAD debug/debug.o
LOAD interrupt/load_idt.o
LOAD interrupt/interrupt.o
LOAD interrupt/fault_handler.o
LOAD interrupt/user_defined_handler.o
LOAD interrupt/handler_caller.o
LOAD device/keyboard.o
LOAD device/keyinput.o
LOAD app/console.o
LOAD acpi/acpi.o
LOAD command/echo.o
LOAD command/uptime.o
LOAD command/sleep.o
OUTPUT(kernel.bin binary)

.comment        0x0000000000000000      0x2b2
 .comment       0x0000000000000000       0x2e core/kernel.o
 .comment       0x000000000000002e       0x2e graphics/graphics.o
 .comment       0x000000000000005c       0x2e util/util.o
 .comment       0x000000000000008a       0x2e init/bss.o
 .comment       0x00000000000000b8       0x2e mm/segmentation.o
 .comment       0x00000000000000e6       0x2e mm/paging.o
 .comment       0x0000000000000114       0x2e interrupt/interrupt.o
 .comment       0x0000000000000142       0x2e interrupt/fault_handler.o
 .comment       0x0000000000000170       0x2e interrupt/user_defined_handler.o
 .comment       0x000000000000019e       0x2e device/keyinput.o
 .comment       0x00000000000001cc       0x2e app/console.o
 .comment       0x00000000000001fa       0x2e acpi/acpi.o
 .comment       0x0000000000000228       0x2e command/echo.o
 .comment       0x0000000000000256       0x2e command/uptime.o
 .comment       0x0000000000000284       0x2e command/sleep.o

.note.GNU-stack
                0x0000000000000000        0x0
 .note.GNU-stack
                0x0000000000000000        0x0 core/kernel.o
 .note.GNU-stack
                0x0000000000000000        0x0 graphics/graphics.o
 .note.GNU-stack
                0x0000000000000000        0x0 util/util.o
 .note.GNU-stack
                0x0000000000000000        0x0 init/bss.o
 .note.GNU-stack
                0x0000000000000000        0x0 mm/segmentation.o
 .note.GNU-stack
                0x0000000000000000        0x0 mm/paging.o
 .note.GNU-stack
                0x0000000000000000        0x0 interrupt/interrupt.o
 .note.GNU-stack
                0x0000000000000000        0x0 interrupt/fault_handler.o
 .note.GNU-stack
                0x0000000000000000        0x0 interrupt/user_defined_handler.o
 .note.GNU-stack
                0x0000000000000000        0x0 device/keyinput.o
 .note.GNU-stack
                0x0000000000000000        0x0 app/console.o
 .note.GNU-stack
                0x0000000000000000        0x0 acpi/acpi.o
 .note.GNU-stack
                0x0000000000000000        0x0 command/echo.o
 .note.GNU-stack
                0x0000000000000000        0x0 command/uptime.o
 .note.GNU-stack
                0x0000000000000000        0x0 command/sleep.o
