# スレッドについて

## スレッドについて調べたこと

スレッドはシステムコールか割り込みが呼ばれたときに行われる。

- 次に動作すべきスレッドの選択：スケジューリング
- 選択されたスレッドの再開：ディスパッチ

スタックはスレッドごとに持っている必要がある。

ディスパッチの時にスタックポインタを再開するスレッドのスタックのものに置き換える。

処理再開にCPUが必要とする情報をコンテキストと呼ぶ。

コンテキストは言ってしまえば各種レジスタのこと。

## スレッドの実装

- スタックの保存
    - スレッドごとに固定配列をもたせる？
- レジスタの保存
    - スレッドのスタックに保存しておく、rspだけはthread構造体で管理しておく？
